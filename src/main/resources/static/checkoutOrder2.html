<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Create Order Form</title>

</head>

<body>
<h1>Enter order details</h1>


<form id="form">
    <div>
        <label for="transactionId">transaction id</label>
        <input id="transactionId" name="transactionId" />
    </div>
    <div>
        <label for="orderDetails">orderDetails</label>
        <input id="orderDetails" name="orderDetails" />
    </div>

    <div>
        <label for="amount">amount</label>
        <input id="amount" name="amount" />
    </div>

    <p>
        <button type="submit">Submit</button>
    </p>
</form>

<div id="results"></div>
<script>
        var formEl = document.getElementById('form');

        formEl.addEventListener('submit', function (event) {

            var headers = new Headers();

            headers.set('Accept', 'application/json');


            var formData = new FormData();
            for (var i = 0; i < formEl.length; ++i) {
                formData.append(formEl[i].name, formEl[i].value);
            }

            console.log(formData);



            var url = 'orders';
            var fetchOptions = {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(Object.fromEntries(formData))
            };

            // GET Request.
            fetch(url, fetchOptions)
                // Handle success
                .then(response => response.json()) // convert to json
                .then(json => console.log(json)) //print data to console
                .catch(err => console.log('Request Failed', err)); // Catch errors
        });
    </script>

</body>

</html>